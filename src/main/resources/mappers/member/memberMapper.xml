<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member">
	<insert id="memberSignup" parameterType="com.spmall.member.MemberVO">
		<![CDATA[
			INSERT INTO `MEMBER`(MEMBER_ID, MEMBER_PWD, MEMBER_NAME, MEMBER_GENDER, MEMBER_PHONE, MEMBER_EMAIL1, MEMBER_EAMIL2, MEMBER_ADDR1, MEMBER_ADDR2, MEMBER_ADDR3, MEMBER_ADDR4)
			VALUES(	#{MEMBER_ID},
					#{MEMBER_PWD},
					#{MEMBER_NAME},
					#{MEMBER_GENDER},
					#{MEMBER_PHONE},
					#{MEMBER_EMAIL1},
					#{MEMBER_EMAIL2},
					#{MEMBER_ADDR1},
					#{MEMBER_ADDR2},
					#{MEMBER_ADDR3},
					#{MEMBER_ADDR4}
			)
		]]>
	</insert>
	
	<select id = "idoverlap" parameterType="String" resultType ="int">
		select Count(*)
		from member
		where member_id = #{member_id};
	</select>
	
	<select id ="memberLogin" parameterType="String" resultType="com.spmall.member.MemberVO">
		select *
		from member
		where member_id = #{member_id}
	</select>
	
	<select id ="memberInfo" resultType="com.spmall.member.MemberVO">
		select 
			member_id, member_name, member_gender, member_phone, member_email1, member_email2,
			member_addr1, member_addr2, member_addr3, member_addr4, memeber_create_at
		from 
			member
		where 
			member_id = #{member_id}
	</select>
	
	<update id="memberUpdate">
		update member 
		set 
			member_phone = #{member_phone},
			member_email1 = #{member_email1},
			member_eamil2 = #{member_eamil2},
			member_addr1 = #{member_addr1},
			member_addr2 = #{member_addr2},
			member_addr3 = #{member_addr3},
			member_addr4 = #{member_addr4}
		where member_id = #{member_id}
	</update>
</mapper>